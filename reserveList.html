<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="StyleSheet.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservations Table</title>
    <script src="https://www.gstatic.com/firebasejs/11.3.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.3.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <h1>Reservations Table</h1>
    <table border="1">
        <thead>
            <tr>
                <th>Name</th>
                <th>Room</th>
                <th>Date</th>
                <th>Time</th>
            </tr>
        </thead>
        <tbody id="reservationsTable"></tbody>
    </table>
    <script type="module">
        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDqAa4PoaB7vyQ9FE0WQFDe3Nli7nC1wJA",
            authDomain: "reservations-78188.firebaseapp.com",
            projectId: "reservations-78188",
            storageBucket: "reservations-78188.firebasestorage.app",
            messagingSenderId: "924388919428",
            appId: "1:924388919428:web:e888d91364fe96cf34dad1"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        const tableBody = document.getElementById("reservationsTable");
        try
        {
            var docRef = db.collection("reservations");
            const querySnapshot = await db.collection("reservations").get();
                querySnapshot.forEach((doc) => {
                    const data = doc.data();

                    // Create a new row for each reservation
                    const row = document.createElement("tr");
                    row.innerHTML = `
                        <td>${data.name}</td>
                        <td>${data.room}</td>
                        <td>${data.date}</td>
                        <td>${data.time}</td>
                    `;

                    tableBody.appendChild(row);
                });
            } catch (error) {
                console.error("Error loading reservations:", error);
            }

        //    docRef.get()
        //        .then((querySnapshot) => {  // Use querySnapshot for multiple docs
        //            querySnapshot.forEach((doc) => {

        //                const data = doc.data();

        //                // Create a new row for each reservation
        //                const row = document.createElement("tr");
        //                row.innerHTML = `
        //                <td>${data.name || "N/A"}</td>
        //                <td>${data.room || "N/A"}</td>
        //                <td>${data.date || "N/A"}</td>
        //                <td>${data.time || "N/A"}</td>`;

        //                tableBody.appendChild(row);
        //            });
        //        })
        //        .catch((error) => {
        //            console.error("Error getting documents:", error);
        //        });
        //} catch (error) {
        //    console.error("Unexpected error:", error);
        //}
       
    </script>
    <div class="footer">Copyrights Â© 2025 Toumpas Dimitris </div>>
    </body>
</html>